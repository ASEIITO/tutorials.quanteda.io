  ---
title: Chinese
weight: 30
draft: false
---

{{% author %}}By Yuan Zhou{{% /author %}} 

This tutorial will show how to use quanteda's internal function `corpus()`, `tokens()`, and `dfm()` to preprocess Chinese texts using the example of the Universal Declaration of Human Rights.


```r
require(quanteda)
require(quanteda.corpora)
options(width = 110)
```

There does not exist an authoritative Chinese stopword list. Here we use the [marimo stopwords](https://github.com/koheiw/marimo) to remove the meaningless tokens.


```r
corp <- corpus_reshape(data_corpus_udhr["cmn_hans"], to = "paragraphs")
toks <- tokens(corp, remove_punct = TRUE, remove_numbers = TRUE, padding = TRUE) %>% 
  tokens_remove(stopwords("zh_cn", source = "marimo"), padding = TRUE)

print(toks[2], max_ndoc = 1, max_ntok = -1)
```

```
## Tokens consisting of 1 document and 4 docvars.
## cmn_hans :
##   [1] "鉴于"     ""         "人类"     "家庭"     ""         "成员"     ""         "固有"     "尊严"    
##  [10] "及其"     "平等"     ""         ""         "不移"     ""         "权利"     ""         "承认"    
##  [19] ""         "乃是"     "世界"     "自由"     ""         "正义"     ""         "和平"     ""        
##  [28] "基础"     ""         "鉴于"     ""         "人权"     ""         "无视"     ""         "侮蔑"    
##  [37] "已"       "发展"     ""         "野蛮"     "暴行"     ""         ""         "暴行"     "玷污"    
##  [46] "了"       "人类"     ""         "良心"     ""         ""         "一个"     "人人"     "享有"    
##  [55] "言论"     ""         "信仰"     "自由"     ""         "免"       "予"       "恐惧"     ""        
##  [64] "匮"       "乏"       ""         "世界"     ""         "来临"     ""         "已"       "被"      
##  [73] "宣布"     ""         "普通"     "人民"     ""         "最高"     "愿望"     ""         "鉴于"    
##  [82] ""         "使"       "人类"     "不致"     "迫不得已" "铤"       ""         "走"       "险"      
##  [91] ""         "暴政"     ""         "压迫"     "进行"     "反叛"     ""         ""         "必要"    
## [100] "使"       "人权"     ""         "法治"     ""         "保护"     ""         "鉴于"     ""        
## [109] "必要"     "促进"     "各国"     "间"       "友好"     "关系"     ""         "发展"     ""        
## [118] "鉴于"     "各"       "联合"     "国"       "国家"     ""         "人民"     "已"       ""        
## [127] "联合"     "国"       "宪章"     ""         "重申"     "他们"     ""         "基本"     "人权"    
## [136] ""         "人格"     "尊严"     ""         "价值"     ""         "男女平等" "权利"     ""        
## [145] "信念"     ""         ""         "决心"     "促成"     "较大"     "自由"     "中的"     "社会"    
## [154] "进步"     ""         "生活"     "水平"     ""         "改善"     ""         "鉴于"     "各"      
## [163] "会员"     "国"       "业"       "已"       "誓"       "愿"       ""         "联合"     "国"      
## [172] "合作"     ""         "促进"     ""         "人权"     ""         "基本"     "自由"     ""        
## [181] "普遍"     "尊重"     ""         "遵行"     ""         "鉴于"     ""         ""         "权利"    
## [190] ""         "自由"     ""         "普遍"     "了解"     ""         ""         "誓"       "愿"      
## [199] ""         "充分"     "实现"     "具有"     "很大"     ""         "重要性"   ""         ""        
## [208] "现在"     ""         "大会"     ""         "发布"     ""         ""         "世界"     "人权"    
## [217] "宣言"     ""         ""         ""         "人民"     ""         ""         "国家"     "努力"    
## [226] "实现"     ""         "共同"     "标准"     ""         "以期"     "每一个人" ""         "社会"    
## [235] "机构"     "经常"     "铭"       "念"       "本"       "宣言"     ""         "努力"     ""        
## [244] "教诲"     ""         "教育"     "促进"     ""         "权利"     ""         "自由"     ""        
## [253] "尊重"     ""         ""         ""         "国家"     ""         ""         "国际"     ""        
## [262] "渐进"     "措施"     ""         "使"       ""         "权利"     ""         "自由"     ""        
## [271] "各"       "会员"     "国"       "本身"     "人民"     ""         ""         ""         "管辖"    
## [280] ""         "领土"     ""         "人民"     ""         "得到"     "普遍"     ""         "有效"    
## [289] ""         "承认"     ""         "遵行"     ""
```

Also, you can create your own stopword list.


```r
stwords <- c("", "已", "了", "使")
toks <- tokens_remove(toks, stwords)
print(toks[2], max_ndoc = 1, max_ntok = -1)
```

```
## Tokens consisting of 1 document and 4 docvars.
## cmn_hans :
##   [1] "鉴于"     "人类"     "家庭"     "成员"     "固有"     "尊严"     "及其"     "平等"     "不移"    
##  [10] "权利"     "承认"     "乃是"     "世界"     "自由"     "正义"     "和平"     "基础"     "鉴于"    
##  [19] "人权"     "无视"     "侮蔑"     "发展"     "野蛮"     "暴行"     "暴行"     "玷污"     "人类"    
##  [28] "良心"     "一个"     "人人"     "享有"     "言论"     "信仰"     "自由"     "免"       "予"      
##  [37] "恐惧"     "匮"       "乏"       "世界"     "来临"     "被"       "宣布"     "普通"     "人民"    
##  [46] "最高"     "愿望"     "鉴于"     "人类"     "不致"     "迫不得已" "铤"       "走"       "险"      
##  [55] "暴政"     "压迫"     "进行"     "反叛"     "必要"     "人权"     "法治"     "保护"     "鉴于"    
##  [64] "必要"     "促进"     "各国"     "间"       "友好"     "关系"     "发展"     "鉴于"     "各"      
##  [73] "联合"     "国"       "国家"     "人民"     "联合"     "国"       "宪章"     "重申"     "他们"    
##  [82] "基本"     "人权"     "人格"     "尊严"     "价值"     "男女平等" "权利"     "信念"     "决心"    
##  [91] "促成"     "较大"     "自由"     "中的"     "社会"     "进步"     "生活"     "水平"     "改善"    
## [100] "鉴于"     "各"       "会员"     "国"       "业"       "誓"       "愿"       "联合"     "国"      
## [109] "合作"     "促进"     "人权"     "基本"     "自由"     "普遍"     "尊重"     "遵行"     "鉴于"    
## [118] "权利"     "自由"     "普遍"     "了解"     "誓"       "愿"       "充分"     "实现"     "具有"    
## [127] "很大"     "重要性"   "现在"     "大会"     "发布"     "世界"     "人权"     "宣言"     "人民"    
## [136] "国家"     "努力"     "实现"     "共同"     "标准"     "以期"     "每一个人" "社会"     "机构"    
## [145] "经常"     "铭"       "念"       "本"       "宣言"     "努力"     "教诲"     "教育"     "促进"    
## [154] "权利"     "自由"     "尊重"     "国家"     "国际"     "渐进"     "措施"     "权利"     "自由"    
## [163] "各"       "会员"     "国"       "本身"     "人民"     "管辖"     "领土"     "人民"     "得到"    
## [172] "普遍"     "有效"     "承认"     "遵行"
```

After tokenization, you can create a document-feature matrix just as other languages.


```r
dfmat <- dfm(toks)

print(dfmat)
```

```
## Document-feature matrix of: 82 documents, 484 features (97.7% sparse) and 4 docvars.
##             features
## docs         序言 鉴于 人类 家庭 成员 固有 尊严 及其 平等 不移
##   cmn_hans.1    1    0    0    0    0    0    0    0    0    0
##   cmn_hans.2    0    7    3    1    1    1    2    1    1    1
##   cmn_hans.3    0    0    0    0    0    0    0    0    0    0
##   cmn_hans.4    0    0    0    0    0    0    1    0    1    0
##   cmn_hans.5    0    0    0    0    0    0    0    0    0    0
##   cmn_hans.6    0    0    0    0    0    0    0    0    0    0
## [ reached max_ndoc ... 76 more documents, reached max_nfeat ... 474 more features ]
```
