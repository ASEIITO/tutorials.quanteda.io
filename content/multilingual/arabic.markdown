  ---
title: Arabic
weight: 10
draft: false
---

{{% author %}}By Dai Yamao{{% /author %}} 

We usually need to use Linux OS in analyzing Arabic text, because result will be shown in Unicode in Windows OS and in opposite way in pieces in Mac OS.


```r
require(quanteda)
require(quanteda.corpora)
options(width = 110)
```

`data_corpus_udhr` contains the Universal Declaration of Human Rights in multiple languages including Arabic. After tokenization, we remove grammatical words using `stopwords("ar", source = "marimo")`.

Result should be read from right-to-left order.


```r
corp <- corpus_reshape(data_corpus_udhr["arb"], to = "paragraphs")
toks <- tokens(corp, remove_punct = TRUE, remove_numbers = TRUE) %>% 
  tokens_remove(stopwords("ar", source = "marimo"))
print(toks[2], max_ndoc = 1, max_ntoken = -1)
```

```
## Tokens consisting of 1 document and 4 docvars.
## arb :
##   [1] "لمّا"       "الاعتراف"  "بالكرامة"  "المتأصلة"  "أعضاء"     "الأسرة"    "البشرية"   "وبحقوقهم" 
##   [9] "المتساوية" "الثابتة"   "أساس"      "الحرية"    "والعدل"    "والسلام"   "العالم"    "ولما"     
##  [17] "تناسي"     "حقوق"      "الإنسان"   "وازدراؤها" "أفضيا"     "أعمال"     "همجية"     "آذت"      
##  [25] "الضمير"    "الإنساني"  "غاية"      "يرنو"      "إليه"      "عامة"      "البشر"     "انبثاق"   
##  [33] "عالم"      "يتمتع"     "الفرد"     "بحرية"     "القول"     "والعقيدة"  "ويتحرر"    "الفزع"    
##  [41] "والفاقة"   "ولما"      "الضروري"   "يتولى"     "القانون"   "حماية"     "حقوق"      "الإنسان"  
##  [49] "لكيلا"     "يضطر"      "المرء"     "الأمر"     "التمرد"    "الاستبداد" "والظلم"    "ولما"     
##  [57] "شعوب"      "الأمم"     "المتحدة"   "أكدت"      "الميثاق"   "جديد"      "إيمانها"   "بحقوق"    
##  [65] "الإنسان"   "الأساسية"  "وبكرامة"   "الفرد"     "وقدره"     "للرجال"    "والنساء"   "حقوق"     
##  [73] "متساوية"   "وحزمت"     "أمرها"     "تدفع"      "بالرقي"    "الاجتماعي" "قدمًا"      "ترفع"     
##  [81] "مستوى"     "الحياة"    "جو"        "الحرية"    "أفسح"      "ولما"      "الدول"     "الأعضاء"  
##  [89] "تعهدت"     "بالتعاون"  "الأمم"     "المتحدة"   "ضمان"      "إطراد"     "مراعاة"    "حقوق"     
##  [97] "الإنسان"   "والحريات"  "الأساسية"  "واحترامها" "ولما"      "للإدراك"   "العام"     "الحقوق"   
## [105] "والحريات"  "الأهمية"   "الكبرى"    "للوفاء"    "التام"     "التعهد"    "الجمعية"   "العامة"   
## [113] "تنادي"     "الإعلان"   "العالمي"   "لحقوق"     "الإنسان"   "المستوى"   "المشترك"   "تستهدفه"  
## [121] "كافة"      "الشعوب"    "والأمم"    "يسعى"      "فرد"       "وهيئة"     "المجتمع"   "واضعين"   
## [129] "الدوام"    "الإعلان"   "نصب"       "أعينهم"    "توطيد"     "احترام"    "الحقوق"    "والحريات" 
## [137] "طريق"      "التعليم"   "والتربية"  "واتخاذ"    "إجراءات"   "مطردة"     "قومية"     "وعالمية"  
## [145] "لضمان"     "الإعتراف"  "ومراعاتها" "بصورة"     "عالمية"    "فعالة"     "الدول"     "الأعضاء"  
## [153] "وشعوب"     "البقاع"    "الخاضعة"   "لسلطانها"
```

We can improve tokenization by removing all non-Arabic letters by `"^[a-z]+$"`.

```r
toks <- tokens_remove(toks, "^[a-z]+$", valuetype = "regex") %>%
  tokens_select("^[\\p{Nd}\\p{L}\\-']+$", valuetype = "regex")
print(toks[2], max_ndoc = 1, max_ntoken = -1)
```

```
## Tokens consisting of 1 document and 4 docvars.
## arb :
##   [1] "الاعتراف"  "بالكرامة"  "المتأصلة"  "أعضاء"     "الأسرة"    "البشرية"   "وبحقوقهم"  "المتساوية"
##   [9] "الثابتة"   "أساس"      "الحرية"    "والعدل"    "والسلام"   "العالم"    "ولما"      "تناسي"    
##  [17] "حقوق"      "الإنسان"   "وازدراؤها" "أفضيا"     "أعمال"     "همجية"     "آذت"       "الضمير"   
##  [25] "الإنساني"  "غاية"      "يرنو"      "إليه"      "عامة"      "البشر"     "انبثاق"    "عالم"     
##  [33] "يتمتع"     "الفرد"     "بحرية"     "القول"     "والعقيدة"  "ويتحرر"    "الفزع"     "والفاقة"  
##  [41] "ولما"      "الضروري"   "يتولى"     "القانون"   "حماية"     "حقوق"      "الإنسان"   "لكيلا"    
##  [49] "يضطر"      "المرء"     "الأمر"     "التمرد"    "الاستبداد" "والظلم"    "ولما"      "شعوب"     
##  [57] "الأمم"     "المتحدة"   "أكدت"      "الميثاق"   "جديد"      "إيمانها"   "بحقوق"     "الإنسان"  
##  [65] "الأساسية"  "وبكرامة"   "الفرد"     "وقدره"     "للرجال"    "والنساء"   "حقوق"      "متساوية"  
##  [73] "وحزمت"     "أمرها"     "تدفع"      "بالرقي"    "الاجتماعي" "ترفع"      "مستوى"     "الحياة"   
##  [81] "جو"        "الحرية"    "أفسح"      "ولما"      "الدول"     "الأعضاء"   "تعهدت"     "بالتعاون" 
##  [89] "الأمم"     "المتحدة"   "ضمان"      "إطراد"     "مراعاة"    "حقوق"      "الإنسان"   "والحريات" 
##  [97] "الأساسية"  "واحترامها" "ولما"      "للإدراك"   "العام"     "الحقوق"    "والحريات"  "الأهمية"  
## [105] "الكبرى"    "للوفاء"    "التام"     "التعهد"    "الجمعية"   "العامة"    "تنادي"     "الإعلان"  
## [113] "العالمي"   "لحقوق"     "الإنسان"   "المستوى"   "المشترك"   "تستهدفه"   "كافة"      "الشعوب"   
## [121] "والأمم"    "يسعى"      "فرد"       "وهيئة"     "المجتمع"   "واضعين"    "الدوام"    "الإعلان"  
## [129] "نصب"       "أعينهم"    "توطيد"     "احترام"    "الحقوق"    "والحريات"  "طريق"      "التعليم"  
## [137] "والتربية"  "واتخاذ"    "إجراءات"   "مطردة"     "قومية"     "وعالمية"   "لضمان"     "الإعتراف" 
## [145] "ومراعاتها" "بصورة"     "عالمية"    "فعالة"     "الدول"     "الأعضاء"   "وشعوب"     "البقاع"   
## [153] "الخاضعة"   "لسلطانها"
```


```r
# create a document-feature matrix
dfmat <- dfm(toks)
print(dfmat)
```

```
## Document-feature matrix of: 82 documents, 611 features (98.3% sparse) and 4 docvars.
##        features
## docs    الديباجة الاعتراف بالكرامة المتأصلة أعضاء الأسرة البشرية وبحقوقهم المتساوية الثابتة
##   arb.1        1        0        0        0     0      0       0        0         0       0
##   arb.2        0        1        1        1     1      1       1        1         1       1
##   arb.3        0        0        0        0     0      0       0        0         0       0
##   arb.4        0        0        0        0     0      0       0        0         0       0
##   arb.5        0        0        0        0     0      0       0        0         0       0
##   arb.6        0        0        0        0     0      0       0        0         0       0
## [ reached max_ndoc ... 76 more documents, reached max_nfeat ... 601 more features ]
```

